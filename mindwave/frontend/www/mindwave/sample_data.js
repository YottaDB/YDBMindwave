/**
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

 var mindWaveData = {
    "20180321073543.980000": {
        "delta": 0,
        "hiAlpha": 0,
        "hiBeta": 0,
        "loAlpha": 0,
        "loBeta": 0,
        "loGamma": 0,
        "midGamma": 0,
        "theta": 0
    },
    "20180321073600.963000": {
        "delta": 1600000,
        "hiAlpha": 1600000,
        "hiBeta": 1600000,
        "loAlpha": 1600000,
        "loBeta": 1600000,
        "loGamma": 1600000,
        "midGamma": 1600000,
        "theta": 1600000
    },
    "20180321073543.990000": {
        "attention": 0
    },
    "20180321073600.996000": {
        "attention": 100
    },
    "20180321073543.991000": {
        "meditation": 0
    },
    "20180321073600.998000": {
        "meditation": 100
    }
};

var xhttp = new XMLHttpRequest();
var xhttpResponse;
xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
                xhttpResponse = JSON.parse(this.responseText);
                resetMindWaveData();
                console.log("parsing MindWave Data");
                parseMindWaveData(xhttpResponse);
                l1.updateData(eegData);
                l2.updateData(alphaData);
                l3.updateData(betaData);
                l4.updateData(gammaData);
                l5.updateData(thetaData);
                l6.updateData(deltaData);
                l7.updateData(attentionMeditationData);
        }
};

xhttp.open("GET", "/api/db/MindWave/list?showDetail=true",true);
xhttp.send();
